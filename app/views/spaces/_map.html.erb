<!-- Google Map -->
<head>
  <title>Add Map</title>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GMAPS_API_KEY'] %>&callback=initMap&libraries=&v=weekly"
    defer
  ></script>
  <style type="text/css">
    /* Set the size of the div element that contains the map */
    #map {
      height: 400px;
      /* The height is 400 pixels */
      width: 100%;
      /* The width is the width of the web page */
    }
  </style>
  <script>
    // Initialize and add the map
    function initMap() {
      // The location of the current space
      const space = { lat: <%= @space.latitude %>, lng: <%= @space.longitude %> };
      // The map, centered at the current space
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 14,
        center: space,
      });
      // The marker, positioned at the current space
      const marker = new google.maps.Marker({
        position: space,
        map: map,
      });
    }
  </script>
</head>
<body>
  <!--The div element for the map -->
  <div id="map"></div>
</body>
