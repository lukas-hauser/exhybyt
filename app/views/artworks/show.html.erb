<%= provide(:title, @artwork.listing_name ) %>

<% if @artwork.images.attached? %>
  <div class="container-fluid-xl">
    <div class="row">
      <div>
        <%= image_tag @artwork.images[0], class:"img-fluid max-width: 100%" %>
      </div>
    </div>
  </div>
<% end %>

<div class="col p-4 d-flex flex-column position-static">
  <h2 class="d-inline-block mb-2 text"><%= @artwork.category %></h2>
  <h1 class="center"><%= @artwork.listing_name %></h1>
  <h2 class="d-inline-block mb-2 text"><%= @artwork.styles %></h2>
  <p class="d-inline-block mb-2 text center">Width: <%= @artwork.width %> cm | Height: <%= @artwork.height %> cm</p>
  <p class="d-inline-block mb-2 text center">Price: Â£ <%= @artwork.price %></p>
</div>

<% if @artwork.images.count > 1 %>
  <div id="myCarousel" class="carousel slide" data-ride="carousel">

    <!-- Indicators -->
    <ol class="carousel-indicators">
      <% i=0 %>
      <% @artwork.images.each do %>
        <li data-target="#myCarousel" data-slide-to="<%= i %>"<%= ' class="active"' if i == 0 %>></li>
        <% i+=1 %>
      <% end %>
    </ol>

    <!-- The slideshow -->
    <div class="carousel-inner">
      <% if @artwork.images %>
        <% i=0 %>
        <% @artwork.images.each do |image| %>
          <div class="carousel-item<%= ' active' if i == 0 %>" alt:"...">
            <%= image_tag image, class:"img-fluid" %>
          </div>
          <% i+=1 %>
        <% end %>
      <% end %>
    </div>

    <!-- Left and right controls -->
    <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
<% end %>
